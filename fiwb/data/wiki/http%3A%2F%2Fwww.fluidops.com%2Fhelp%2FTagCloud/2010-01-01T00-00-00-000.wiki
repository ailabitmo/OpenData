=== Tag Cloud Widget ===

==== Functionality ====
{{ #widget : com.fluidops.iwb.widget.DisplayConfigurationWidget
| clazz = com.fluidops.iwb.widget.TagCloudWidget
| type = 'DESCRIPTION'
}}

The terms displayed by the Tag Cloud Widget may consist of any values stored inside the Information Workbench. The information displayed is provided in a SPARQL SELECT query. The user decides how to weight each individual term by defining the type of aggregation in the query.

Go back to [[Help:Widgets | Widgets ]]

==== Configuration Settings ====

{{ #widget : com.fluidops.iwb.widget.DisplayConfigurationWidget
| clazz = com.fluidops.iwb.widget.TagCloudWidget
}}

==== Example ====

The following example will display classes by their number of instances. The more instances a class has, the larger it will be displayed in the Tag Cloud.

<source>
{{
#widget: TagCloud |
  query = 'SELECT ?class (COUNT(?instance) AS ?instances) WHERE { ?instance rdf:type ?class } GROUP BY ?class' |
  input = 'class' |
  output = 'instances' |
}}
</source>

The '''query''' field specifies, which data will be displayed in the tag cloud. The SPARQL query defined here delivers search results from the database. In our case we simply count the number of class instances. We further need to specify in the '''input''' field, which variable is displayed as a tag in the cloud. This can be any variable returned by the SELECT query. This variable is addressed by the name given to it in the query omitting the ?-sign. Finally we need to define which variable contains the numeric weights in the '''output''' field. In this case the variable contains the number of instances for each class.

In the following example the widget uses data generated by the Void Provider. This provider generates statistics about the data sets available in the Information Workbench. If no ''input'' and ''output'' parameters are defined, the first variable will be considered as a variable containing the cloud tag and the second variable as a numeric weight for this tag.

<source>
{{
#widget: TagCloud |
  query = 'SELECT ?Class ?Entities WHERE {
      ?ClassPartition void:class ?Class .
      ?ClassPartition void:entities ?Entities }'
}}
</source>

The results returned by the second variable must be some form of numerical values like integers or a floating point number.

The keywords displayed in the tag cloud are per default linked to the associated resources. There is an option to link them to a page containing a list of query results by defining a SELECT-Query in the ''queryPattern'' parameter. You can use two special variables in this query if needed. The variable ''??'' will be replaced by the current page context resource and the variable ''?:input'' will be replaced by the value in the '''input''' variable.

The result on including this on a wiki page looks like the following.

<img src="../images/help/tag-cloud.png" />